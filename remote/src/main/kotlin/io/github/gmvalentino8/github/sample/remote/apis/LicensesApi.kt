/**
 * GitHub v3 REST API
 *
 * GitHub's v3 REST API.
 *
 * The version of the OpenAPI document: 1.1.4
 * 
 *
 * Please note:
 * This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * Do not edit this file manually.
 */

@file:Suppress(
    "ArrayInDataClass",
    "EnumEntryName",
    "RemoveRedundantQualifierName",
    "UnusedImport"
)

package io.github.gmvalentino8.github.sample.remote.apis

import io.ktor.client.request.request
import io.github.gmvalentino8.github.sample.remote.models.*
import io.github.gmvalentino8.github.sample.remote.core.HttpClientProvider
import io.ktor.client.request.parameter
import io.ktor.http.HttpMethod

interface LicensesApi {
    /**
    * Get a license
    *
    * 
    *
    * @return LicenseApiModel
    */
    suspend fun licensesGet(accessToken: String? = null, license: kotlin.String): LicenseApiModel

    /**
    * Get all commonly used licenses
    *
    * 
    *
    * @return kotlin.collections.List<LicenseMinusSimpleApiModel>
    */
    suspend fun licensesGetAllCommonlyUsed(accessToken: String? = null, featured: kotlin.Boolean? = null, perPage: kotlin.Int? = null, page: kotlin.Int? = null): kotlin.collections.List<LicenseMinusSimpleApiModel>

    /**
    * Get the license for a repository
    *
    * This method returns the contents of the repository&#39;s license file, if one is detected.  Similar to [Get repository content](https://docs.github.com/rest/reference/repos#get-repository-content), this method also supports [custom media types](https://docs.github.com/rest/overview/media-types) for retrieving the raw license content or rendered license HTML.
    *
    * @return LicenseMinusContentApiModel
    */
    suspend fun licensesGetForRepo(accessToken: String? = null, repoName: kotlin.String): LicenseMinusContentApiModel

}

class HttpClientLicensesApi(private val httpClientProvider: HttpClientProvider) : LicensesApi {
    internal val httpClient = httpClientProvider.provide()

    override suspend fun licensesGet(accessToken: String?, license: kotlin.String): LicenseApiModel {
        val path = "/licenses/{license}".replace("{"+"license"+"}", "$license")

        return httpClient.request {
            url { encodedPath = path }
            method = HttpMethod.Get
        }
    }

    override suspend fun licensesGetAllCommonlyUsed(accessToken: String?, featured: kotlin.Boolean?, perPage: kotlin.Int?, page: kotlin.Int?): kotlin.collections.List<LicenseMinusSimpleApiModel> {
        val path = "/licenses"

        return httpClient.request {
            url { encodedPath = path }
            method = HttpMethod.Get
            parameter("featured", featured)
            parameter("per_page", perPage)
            parameter("page", page)
        }
    }

    override suspend fun licensesGetForRepo(accessToken: String?, repoName: kotlin.String): LicenseMinusContentApiModel {
        val path = "/repos/{repo_name}/license".replace("{"+"repo_name"+"}", "$repoName")

        return httpClient.request {
            url { encodedPath = path }
            method = HttpMethod.Get
        }
    }

}
